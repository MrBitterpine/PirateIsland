<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
        
        <title>Search and stream movies immediately</title>
    </head>
    
    
    <body>

    
        <div class="container-fluid my-5">
    <div class="row mb-2">
        <div class="col-12 text-center">
            <h2><div>Stream torrent movies directly to your computer within seconds</div></h2>
        </div>
    </div>
    <div class="row mb-5">
        <div class="col-12">
            <form id="urlForm" data-request="onGetUrl" data-request-flash data-request-update="'@url': '#url'">
                <div class="form-group">
                    <input id="urlCategory" checked type="radio" name="category" value="Movies">
                    <label for="movies">Movies</label>
                    <input type="radio" name="category" value="TV">
                    <label for="tv">TV</label>
                </div>
                <div class="form-group">
                    <label for="name">Search for a Movie Title:</label>
                    <input type="text" name="name" class="form-control" id="name" required>
                </div>
                <div style="display: none;" id="url"></div>
                <input id="page" type="hidden" name="page" value="1">
                <button id='searchButton' type="submit" class="btn btn-primary">Search</button>
            </form>
            <form id="search" data-request-complete="showMore()" data-request="onGetResult" data-request-flash
                data-request-update="'@wt': '@#wtContainer'">
                <input id="category" type="hidden" name="category" value="">
                <input id="source" type="hidden" name="source" value="">
                <input id="start" type="hidden" name="start" value=1>
            </form>
        </div>
    </div>


    <div style="text-align: center;width: 100%;">
        <video id="video" controls></video>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@webtor/player-sdk-js/dist/index.min.js" charset="utf-8" async></script>
    <script>
        data = location.toString().split('?torrent=');
        if (typeof data[1] !== 'undefined') {
            document.getElementById('video').src = data[1];
        }

    </script>
    <div class="row">
        <div class="col-12">
            <div>
                <div class="table-responsive">
                    <table style="display: none;" id="resultTable" class="table">
                        <thead>
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">Name</th>
                                <th scope="col">Size</th>
                                <th scope="col">Play Movie</th>
                            </tr>
                        </thead>
                        <tbody id="wtContainer">
                        </tbody>
                    </table>
                    <div class="text-center">
                        <button style="display: none;" id="more" class="btn btn-secondary">Show more</button>
                    </div>
                </div>

                            </div>
        </div>
    </div>
</div>
<script>
    function load() {
        var client = new XMLHttpRequest();
        client.open('GET', jQuery('#url').text());
        client.send();
        client.onreadystatechange = function () {
            if (client.readyState == XMLHttpRequest.DONE) {
                jQuery('#category').val(jQuery('#urlCategory').val());
                jQuery('#source').val(client.responseText);
                jQuery('#search').submit();
            }
        }
    }
</script>

        
        <div class="d-none d-md-block" id="checkMobile"></div>
        
        <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
        
        <script src="framework.js"></script>
<script src="framework.extras.js"></script>
<link rel="stylesheet" property="stylesheet" href="framework.extras.css">
                <script>
    var lastCount = 0;
    var actualCount = 0;
    var actualPage = 1;
    var lastPage = 0;

    jQuery(document).ready(function () {
        jQuery('#searchButton').click(function () {
            jQuery('#start').val(1);
            jQuery('#wtContainer').html('');
            jQuery('#page').val(1);
        });

        jQuery('body').on('DOMSubtreeModified', '#url', function () {
            load();
        });
        jQuery('#more').click(function () {
            jQuery('#start').val(
                parseInt(jQuery('.rowId').last().text()) + 1
            );

            var page = parseInt(jQuery('#page').val());
            jQuery('#page').val(
                page + 2
            );
            jQuery('#urlForm').submit();
        });
    });
</script>    </body>
</html>
