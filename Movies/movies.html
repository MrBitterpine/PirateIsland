<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Comfortaa">
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="../styles/table.css">
    <title>Desert Island Movies</title>
</head>

<body class="parallax">
    <div id="loader">
        <div></div>
    </div>
    <div style="display: flex;justify-content: center; align-items: center;">
        <input type="text" id="search" placeholder="Search Movie"> <button type="button" onclick="Search()"
            id="button">Search</button>
    </div> <br>
    <br>
    <div class="tablepadding">
        <div id="tablediv">
            <h1 id="title"></h1>
            <table id="result">
                <tr>
                    <th>Movie</th>
                    <th>Peers</th>
                    <th>Size</th>
                    <th>Link</th>
                </tr>
            </table>
        </div>
    </div>
    <script> function Search() { document.getElementById("loader").style.display = "flex"; let data = document.getElementById("search").value; document.getElementById("button").style.display = "none"; const kota_URL = "https://torrents-api.ryukme.repl.co/api/1337x/" + encodeURIComponent(data) + "/1"; const table = document.getElementById("result"); fetch(kota_URL).then(data => { return data.json(); }).then(posts => { document.getElementById("loader").style.display = "none"; posts.forEach(post => { let postObject = { name: post.Name, magnet: post.Magnet, size: post.Size, seeders: post.Seeders }; var tr = '<tr><td>' + postObject.name + '</td><td>' + postObject.seeders + '</td><td>' + postObject.size + '</td><td><a href="play.html?torrent=' + encodeURIComponent(postObject.magnet) + '">Play</a></td></tr>'; table.innerHTML += tr; }); document.getElementById("tablediv").style.display = "block"; }); } </script>
</body>

</html>